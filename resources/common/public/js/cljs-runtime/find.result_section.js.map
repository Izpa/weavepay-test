{"version":3,"sources":["find/result_section.cljs"],"mappings":";AAIA,8BAAA,9BAAMA;AAAN,AAAA,0FAAA;;AAIA,mCAAA,nCAAMC,8EACHC;AADH,AAAA,0FAAA,uDAAA,mFAAA,uDAAA,mFAAA,kDAAA,mFAAA,iDAAA,sBAAA,mFAAA,iDAAA,eAAA,mFAAA,iDAAA,iBAAA,mFAAA,iDAAA,8BAAA,mFAAA,sDAKI,iBAAAC,qBAAA,yDAAAC;AAAA,AAAA,YAAAC,kBAAA,KAAA;AAAA,AAAA,IAAAD,eAAAA;;AAAA,AAAA,IAAAE,qBAAA,AAAAC,cAAAH;AAAA,AAAA,GAAAE;AAAA,AAAA,IAAAF,eAAAE;AAAA,AAAA,GAAA,AAAAE,6BAAAJ;AAAA,IAAAK,kBAm8E+C,AAAA+B,sBAAApC;IAn8E/CM,qBAAA,AAAAC,gBAAAF;IAAAG,WAAA,AAAAC,uBAAAH;AAAA,AAAA,GAAA,AAAA,iBAAAI,WAAA;;AAAA,AAAA,GAAA,CAAAA,WAAAJ;AAAA,IAAAK,aAAA,AAAAC,eAAAP,gBAAAK;IAAAC,iBAAA,AAAAE,4BAAAF;uBAAA,AAAAG,4CAAAH,eAAA,9EAAuBa;iBAAvB,AAAAV,4CAAAH,eAAA,xEAAwCc;cAAxC,AAAAX,4CAAAH,eAAA,rEAAmDe;UAAnD,AAAAZ,4CAAAH,eAAA,jEAA2DgB;AAA3D,AAAA,AAAA,AAAAZ,uBAAAP,SAAA,oBAAA,mFAAA,kDAAA,mFAAA,0EAAA,mFAAA,oEAAA,mFAAA,iEAAA,mFAAA,qEAAA,2CAAA,oDACS,iBAAAoB,mBAAID,/lBACDH,6JAAuBC,uJAAiBC,oJAAcC;AADzD,AAAA,oBAAAC;AAAAA;;AAAQJ;;;;AADjB,eAAA,CAAAd,WAAA;;;;AAAA;;;;;AAAA,OAAAM,qBAAA,AAAAC,gBAAAT,UAAA,AAAAU,+CAAA,AAAAC,qBAAAnB;;AAAA,OAAAgB,qBAAA,AAAAC,gBAAAT,UAAA;;;AAAA,IAAAY,aAAA,AAAAC,gBAAArB;IAAAoB,iBAAA,AAAAP,4BAAAO;uBAAA,AAAAN,4CAAAM,eAAA,9EAAuBI;iBAAvB,AAAAV,4CAAAM,eAAA,xEAAwCK;cAAxC,AAAAX,4CAAAM,eAAA,rEAAmDM;UAAnD,AAAAZ,4CAAAM,eAAA,jEAA2DO;AAA3D,AAAA,OAAAL,eAAA,oBAAA,mFAAA,kDAAA,mFAAA,0EAAA,mFAAA,oEAAA,mFAAA,iEAAA,mFAAA,qEAAA,2CAAA,oDACS,iBAAAM,mBAAID,/lBACDH,6JAAuBC,uJAAiBC,oJAAcC;AADzD,AAAA,oBAAAC;AAAAA;;AAAQJ;;cADjB,AAAAN,+CAAA,AAAAK,eAAAvB;;;AAAA;;;;GAAA,KAAA;;AAAA,AAAA,OAAAD,mBAAiED;;;AAIrE,qCAAA,rCAAM+B;AAAN,AAEE,qBAAA,AAAAC,jBAAME,iCAAU,sDAAA,mFAAA,zIAACC;IAAjBF,aAAA,AAAAD,gBAC6B,sDAAA,mFAAA,zIAACG;IAD9BF,iBAAA,AAAAlB,4BAAAkB;WAAA,AAAAjB,4CAAAiB,eAAA,lEACcG;cADd,AAAApB,4CAAAiB,eAAA,rEACkBI;AADlB,AAAA,0FAAA,mDAGG,kCAAA,AAAA,uHAAA,vIAAMH,mGAAUpC,0CAChB,uBAAA,AAAA,mFAAA,2DAAA,mFAAA,qKAAA,yIAAA,piBAAM,AAACO,cAAI+B,kSAEE,CAAA,oFAAA,vBAAsB,AAAC3B,gBAAM2B,gHACtCrC,iCAAaqC,2BACjB,0BAAA,AAAA,mFAAA,2DAAA,mFAAA,4KAAA,4IAAA,jjBAAM,AAAC/B,cAAIgC,qSAEE,CAAA,2FAAA,1BAA0B,AAAC5B,gBAAM4B,mHAC1CtC,iCAAasC","names":["find.result-section/spinner","find.result-section/result-table","articles","iter__5476__auto__","s__73032","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5474__auto__","size__5475__auto__","cljs.core/count","b__73034","cljs.core/chunk-buffer","i__73033","map__73038","cljs.core/-nth","cljs.core/--destructure-map","cljs.core.get","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__73031","cljs.core/chunk-rest","map__73039","cljs.core/first","cljs.core/cons","cljs.core/rest","publication_name","cover_date","creator","doi","or__4998__auto__","find.result-section/result-section","cljs.core/deref","map__73047","loading?","re_frame.core.subscribe","new","existed","cljs.core/chunk-first"],"sourcesContent":["(ns find.result-section\n  (:require\n   [re-frame.core :as rf]))\n\n(defn spinner\n  []\n  [:div.spinner])\n\n(defn result-table\n  [articles]\n  [:table\n   [:thead [:tr [:th \"Publication\"] [:th \"Date\"] [:th \"Author\"] [:th \"DOI\"]]]\n   [:tbody\n    (for [{:articles/keys [publication_name cover_date creator doi]} articles]\n      ^{:key (or doi publication_name)}\n      [:tr [:td publication_name] [:td cover_date] [:td creator] [:td doi]])]])\n\n(defn result-section\n  []\n  (let [loading? @(rf/subscribe [:find-loading?])\n        {:keys [new existed]} @(rf/subscribe [:find-results])]\n    [:div\n     (when loading? [spinner])\n     (when (seq new)\n       [:details\n        [:summary (str \"New articles (\" (count new) \")\")]\n        [result-table new]])\n     (when (seq existed)\n       [:details\n        [:summary (str \"Existed articles (\" (count existed) \")\")]\n        [result-table existed]])]))\n"]}